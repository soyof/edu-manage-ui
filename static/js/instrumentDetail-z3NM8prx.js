import{y as e,r as a,ay as s,c as i,l,h as t,z as n,B as c,R as r,u as d,P as o,L as m,E as p,al as u,J as v,Q as h,a6 as f,I as g,A as y}from"./vue-BMnUnhjY.js";import{g as b,af as k,i as E,a4 as _,e as L,S as T,k as w,E as x}from"./elementPlus-iRxZk2_b.js";import{s as F}from"./index-BT6KgQx3.js";import{c as S}from"./statusConfig-Cju3zQbK.js";import{u as H}from"./useLoading-D-rekEU2.js";import{_ as M}from"./_plugin-vue_export-helper-BCo6x5W8.js";const I={class:"instrument-detail-container"},N={class:"card-header"},P={class:"title-wrapper"},U={class:"title-icon"},j={class:"el-icon instrument-icon"},$={class:"title-content"},z={class:"basic-info"},O=["title"],q={class:"instrument-params"},A={class:"param-row"},B=["title"],C={class:"param-value"},D=["title"],J={class:"param-value"},Q={class:"header-buttons"},R={key:0,class:"status-indicator"},W={class:"status-text"},G={key:0,class:"loading-container"},K={key:1,class:"empty-data"},V={class:"empty-icon"},X={key:2,class:"content-area"},Y={class:"cards-container"},Z={key:0,class:"info-card image-card"},ee={class:"card-title"},ae={class:"card-content"},se={class:"carousel-image-container"},ie={class:"image-error"},le={class:"image-loading"},te={class:"image-indicator"},ne={class:"info-card system-card"},ce={class:"card-title"},re={class:"card-content"},de={class:"system-timeline"},oe={class:"timeline-item"},me={class:"timeline-card"},pe={class:"timeline-header"},ue={class:"timeline-title"},ve={class:"el-icon"},he={class:"timeline-time"},fe={class:"timeline-user"},ge={key:0,class:"timeline-item"},ye={class:"timeline-card"},be={class:"timeline-header"},ke={class:"timeline-title"},Ee={class:"el-icon"},_e={class:"timeline-time"},Le={class:"timeline-user"},Te={key:1,class:"timeline-item"},we={class:"timeline-card"},xe={class:"timeline-header"},Fe={class:"timeline-title"},Se={class:"el-icon"},He={class:"timeline-time"},Me={class:"timeline-user"},Ie={key:0,class:"info-card tech-info-card"},Ne={class:"card-title"},Pe={class:"card-content"},Ue={class:"tech-content"},je={key:0,class:"tech-item"},$e=["innerHTML"],ze=["innerHTML"],Oe={key:1,class:"tech-item"},qe=["innerHTML"],Ae=["innerHTML"],Be={key:2,class:"tech-item"},Ce=["innerHTML"],De=["innerHTML"],Je={key:3,class:"tech-item"},Qe=["innerHTML"],Re=["innerHTML"],We=M(e({__name:"instrumentDetail",setup(e){const M=s(),{loading:We,changeLoading:Ge,closeLoading:Ke}=H(),Ve=S("待发布","已发布","已下线"),Xe=a(M.query.id),Ye=i(()=>!!(Ze.workingPrinciple||Ze.workingPrincipleEn||Ze.applicationScope||Ze.applicationScopeEn||Ze.performanceFeatures||Ze.performanceFeaturesEn||Ze.otherInfo||Ze.otherInfoEn)),Ze=l({id:"",instName:"",instNameEn:"",manufacturer:"",manufacturerEn:"",model:"",workingPrinciple:"",workingPrincipleEn:"",applicationScope:"",applicationScopeEn:"",performanceFeatures:"",performanceFeaturesEn:"",otherInfo:"",otherInfoEn:"",imageFiles:[],publishStatus:"",createUserName:"",createdTimes:"",updateUserName:"",updatedTimes:"",publishUserName:"",publishTimes:""}),ea=i(()=>Ze.imageFiles.map(e=>aa(e))),aa=e=>e?e.startsWith("http")?e:`/api/previewImage?filename=${e}`:"";return t(()=>{Xe.value&&(Ge(!0),F.post("/api/instrument/detail",{id:Xe.value}).then(e=>{e&&Object.assign(Ze,e)}).catch(e=>{x.error("获取仪器详情失败")}).finally(()=>{Ke()}))}),(e,a)=>{const s=u("el-skeleton"),i=u("el-icon"),l=u("el-image"),t=u("el-carousel-item"),x=u("el-carousel"),F=u("el-tab-pane"),S=u("el-tabs");return y(),n("div",I,[c("div",N,[c("div",P,[c("div",U,[c("i",j,[r(d(b),{class:"icon-svg"})])]),c("div",$,[c("div",z,[c("div",{class:"instrument-name",title:Ze.instName||"-"},o(Ze.instName||"-"),9,O),c("div",q,[c("div",A,[c("span",{class:"param-item",title:`生产厂家：${Ze.manufacturer||"-"}`},[a[0]||(a[0]=c("span",{class:"param-label"},"生产厂家：",-1)),c("span",C,o(Ze.manufacturer||"-"),1)],8,B),c("span",{class:"param-item",title:`型号：${Ze.model||"-"}`},[a[1]||(a[1]=c("span",{class:"param-label"},"型号：",-1)),c("span",J,o(Ze.model||"-"),1)],8,D)])])])])]),c("div",Q,[Ze.publishStatus?(y(),n("div",R,[c("div",{class:p(["status-dot","status-"+Ze.publishStatus])},null,2),c("span",W,o(d(Ve).getName(Ze.publishStatus)),1)])):m("",!0)])]),d(We)?(y(),n("div",G,[r(s,{style:{width:"100%"},rows:10,animated:""})])):Ze.id?(y(),n("div",X,[c("div",Y,[Ze.imageFiles&&Ze.imageFiles.length>0?(y(),n("div",Z,[c("div",ee,[r(d(k),{class:"card-icon"}),a[3]||(a[3]=c("span",null,"仪器图片",-1))]),c("div",ae,[r(x,{height:"280px",autoplay:!0,interval:4e3,indicatorPosition:"outside",arrow:"hover",class:"image-carousel"},{default:v(()=>[(y(!0),n(h,null,f(Ze.imageFiles,(e,s)=>(y(),g(t,{key:s},{default:v(()=>[c("div",se,[r(l,{src:aa(e),fit:"contain",previewSrcList:ea.value,initialIndex:s,previewTeleported:"",class:"carousel-image"},{error:v(()=>[c("div",ie,[r(i,null,{default:v(()=>[r(d(k))]),_:1}),a[4]||(a[4]=c("span",null,"加载失败",-1))])]),placeholder:v(()=>[c("div",le,[r(i,{class:"is-loading"},{default:v(()=>[r(d(k))]),_:1})])]),_:2},1032,["src","previewSrcList","initialIndex"]),c("div",te,o(s+1)+"/"+o(Ze.imageFiles.length),1)])]),_:2},1024))),128))]),_:1})])])):m("",!0),c("div",ne,[c("div",ce,[r(d(E),{class:"card-icon"}),a[5]||(a[5]=c("span",null,"系统信息",-1))]),c("div",re,[c("div",de,[c("div",oe,[a[7]||(a[7]=c("div",{class:"timeline-dot create-dot"},null,-1)),c("div",me,[c("div",pe,[c("div",ue,[c("i",ve,[r(d(_),{class:"timeline-icon"})]),a[6]||(a[6]=c("span",null,"创建",-1))]),c("div",he,o(Ze.createdTimes||"-"),1)]),c("div",fe,o(Ze.createUserName||"-"),1)])]),Ze.updateUserName?(y(),n("div",ge,[a[9]||(a[9]=c("div",{class:"timeline-dot update-dot"},null,-1)),c("div",ye,[c("div",be,[c("div",ke,[c("i",Ee,[r(d(L),{class:"timeline-icon"})]),a[8]||(a[8]=c("span",null,"更新",-1))]),c("div",_e,o(Ze.updatedTimes||"-"),1)]),c("div",Le,o(Ze.updateUserName||"-"),1)])])):m("",!0),Ze.publishUserName?(y(),n("div",Te,[a[11]||(a[11]=c("div",{class:"timeline-dot publish-dot"},null,-1)),c("div",we,[c("div",xe,[c("div",Fe,[c("i",Se,[r(d(T),{class:"timeline-icon"})]),a[10]||(a[10]=c("span",null,"发布",-1))]),c("div",He,o(Ze.publishTimes||"-"),1)]),c("div",Me,o(Ze.publishUserName||"-"),1)])])):m("",!0)])])])]),Ye.value?(y(),n("div",Ie,[c("div",Ne,[r(d(w),{class:"card-icon"}),a[12]||(a[12]=c("span",null,"技术信息",-1))]),c("div",Pe,[c("div",Ue,[Ze.workingPrinciple||Ze.workingPrincipleEn?(y(),n("div",je,[a[13]||(a[13]=c("div",{class:"tech-header"},[c("div",{class:"tech-label"},"工作原理")],-1)),r(S,{type:"card",class:"content-tabs"},{default:v(()=>[Ze.workingPrinciple?(y(),g(F,{key:0,label:"中文"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.workingPrinciple},null,8,$e)]),_:1})):m("",!0),Ze.workingPrincipleEn?(y(),g(F,{key:1,label:"English"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.workingPrincipleEn},null,8,ze)]),_:1})):m("",!0)]),_:1})])):m("",!0),Ze.applicationScope||Ze.applicationScopeEn?(y(),n("div",Oe,[a[14]||(a[14]=c("div",{class:"tech-header"},[c("div",{class:"tech-label"},"应用范围")],-1)),r(S,{type:"card",class:"content-tabs"},{default:v(()=>[Ze.applicationScope?(y(),g(F,{key:0,label:"中文"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.applicationScope},null,8,qe)]),_:1})):m("",!0),Ze.applicationScopeEn?(y(),g(F,{key:1,label:"English"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.applicationScopeEn},null,8,Ae)]),_:1})):m("",!0)]),_:1})])):m("",!0),Ze.performanceFeatures||Ze.performanceFeaturesEn?(y(),n("div",Be,[a[15]||(a[15]=c("div",{class:"tech-header"},[c("div",{class:"tech-label"},"性能特点")],-1)),r(S,{type:"card",class:"content-tabs"},{default:v(()=>[Ze.performanceFeatures?(y(),g(F,{key:0,label:"中文"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.performanceFeatures},null,8,Ce)]),_:1})):m("",!0),Ze.performanceFeaturesEn?(y(),g(F,{key:1,label:"English"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.performanceFeaturesEn},null,8,De)]),_:1})):m("",!0)]),_:1})])):m("",!0),Ze.otherInfo||Ze.otherInfoEn?(y(),n("div",Je,[a[16]||(a[16]=c("div",{class:"tech-header"},[c("div",{class:"tech-label"},"其它说明")],-1)),r(S,{type:"card",class:"content-tabs"},{default:v(()=>[Ze.otherInfo?(y(),g(F,{key:0,label:"中文"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.otherInfo},null,8,Qe)]),_:1})):m("",!0),Ze.otherInfoEn?(y(),g(F,{key:1,label:"English"},{default:v(()=>[c("div",{class:"rich-text-content",innerHTML:Ze.otherInfoEn},null,8,Re)]),_:1})):m("",!0)]),_:1})])):m("",!0)])])])):m("",!0)])):(y(),n("div",K,[c("div",V,[r(d(b),{style:{"font-size":"80px",color:"#a0cfff"}})]),a[2]||(a[2]=c("div",{class:"empty-text"},"暂无仪器数据",-1))]))])}}}),[["__scopeId","data-v-00340277"]]);export{We as default};
