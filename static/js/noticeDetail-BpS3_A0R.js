import{y as a,r as e,ay as t,l as s,c as n,h as i,z as l,B as c,I as d,L as o,u as r,E as m,R as p,J as u,al as _,P as v,O as f,n as y,A as b}from"./vue-BMnUnhjY.js";import{Y as g,j as h,a9 as k}from"./elementPlus-iRxZk2_b.js";import{s as T}from"./index-BT6KgQx3.js";import{u as L}from"./useDictionary-Cg9QFWfd.js";import{u as U}from"./useLoading-D-rekEU2.js";import{N as I}from"./statusConfig-Cju3zQbK.js";import{_ as j}from"./_plugin-vue_export-helper-BCo6x5W8.js";const N={class:"notice-detail-container"},D={class:"notice-content-wrapper"},E={class:"notice-header"},w={class:"header-banner animate__animated animate__fadeInDown"},x={class:"notice-type-tag animate__animated animate__fadeInLeft"},z={class:"title animate__animated animate__fadeIn animate__delay-1s"},H={class:"header-status animate__animated animate__fadeInRight"},S={class:"meta-card animate__animated animate__fadeInUp animate__delay-1s"},M={class:"meta-section"},O={class:"section-title"},B={class:"meta-content"},P={class:"meta-item"},R={class:"value"},q={class:"meta-item"},A={class:"value"},C={class:"meta-item"},F={class:"value"},J={class:"meta-item"},Y={class:"value"},G={class:"meta-section"},K={class:"section-title"},Q={class:"meta-content"},V={class:"meta-item"},W={class:"value"},X={class:"meta-item"},Z={class:"value"},$={class:"meta-item"},aa={class:"value"},ea={key:0,class:"notice-body animate__animated animate__fadeIn animate__delay-2s"},ta={class:"content-wrapper"},sa=["innerHTML"],na={key:0,class:"content-wrapper"},ia=["innerHTML"],la={key:1,class:"notice-body link-type animate__animated animate__fadeIn animate__delay-2s"},ca={class:"link-url animate__animated animate__pulse animate__delay-3s"},da=["href"],oa=j(a({__name:"noticeDetail",setup(a){const{changeLoading:j,closeLoading:oa,loading:ra}=U(),ma=t(),pa=e(ma.query.id),{getDictLabel:ua}=L({dictType:"notice_type",autoLoad:!0}),{getDictLabel:_a}=L({dictType:"notice_importance",autoLoad:!0}),va=a=>{const e=String(a);return"3003"===e?"danger":"3002"===e?"warning":"info"},fa=s({id:"",title:"",titleEn:"",noticeType:"",importance:"",content:"",contentEn:"",linkUrl:"",publishStatus:"",publishTimes:"",publishDate:"",publishUserName:"",createdTimes:"",updatedTimes:"",createUserName:"",updateUserName:"",isTop:0}),ya=n(()=>"2002"===String(fa.noticeType)),ba=n(()=>Boolean(fa.titleEn||fa.contentEn)),ga=e(!1);return i(()=>{pa.value&&(j(!0),T.post("/api/notice/detail",{id:pa.value}).then(a=>{a&&(Object.assign(fa,a),ya.value||!a.content||a.linkUrl||(fa.linkUrl=a.content),y(()=>{ga.value=!0}))}).finally(()=>{oa()}))}),(a,e)=>{const t=_("el-empty"),s=_("el-tag"),n=_("el-icon"),i=_("el-tab-pane"),y=_("el-tabs"),T=_("el-alert");return b(),l("div",N,[c("div",D,[fa.id||r(ra)?fa.id?(b(),l("div",{key:1,class:m(["notice-content",{"animation-ready":ga.value}])},[c("div",E,[c("div",w,[c("div",x,[p(s,{size:"small",effect:"dark",class:"type-tag"},{default:u(()=>[f(v(r(ua)(fa.noticeType)),1)]),_:1})]),c("h1",z,v(fa.title),1),c("div",H,[p(s,{size:"small",type:va(fa.importance),effect:"3003"===fa.importance?"dark":"light",class:"importance-tag"},{default:u(()=>[f(v(r(_a)(fa.importance)),1)]),_:1},8,["type","effect"]),p(s,{size:"small",type:r(I).getTagType(fa.publishStatus),class:"status-tag"},{default:u(()=>[f(v(r(I).getName(fa.publishStatus)),1)]),_:1},8,["type"]),1===fa.isTop?(b(),d(s,{key:0,size:"small",type:"success",effect:"dark",class:"top-tag"},{default:u(()=>[...e[0]||(e[0]=[f(" 置顶 ",-1)])]),_:1})):o("",!0)])]),c("div",S,[c("div",M,[c("div",O,[p(n,null,{default:u(()=>[p(r(g))]),_:1}),e[1]||(e[1]=c("span",null,"时间信息",-1))]),c("div",B,[c("div",P,[e[2]||(e[2]=c("span",{class:"label"},"通知发布日期:",-1)),c("span",R,v(fa.publishDate||"--"),1)]),c("div",q,[e[3]||(e[3]=c("span",{class:"label"},"发布时间:",-1)),c("span",A,v(fa.publishTimes||"--"),1)]),c("div",C,[e[4]||(e[4]=c("span",{class:"label"},"创建时间:",-1)),c("span",F,v(fa.createdTimes),1)]),c("div",J,[e[5]||(e[5]=c("span",{class:"label"},"更新时间:",-1)),c("span",Y,v(fa.updatedTimes),1)])])]),c("div",G,[c("div",K,[p(n,null,{default:u(()=>[p(r(h))]),_:1}),e[6]||(e[6]=c("span",null,"人员信息",-1))]),c("div",Q,[c("div",V,[e[7]||(e[7]=c("span",{class:"label"},"发布人:",-1)),c("span",W,v(fa.publishUserName||"--"),1)]),c("div",X,[e[8]||(e[8]=c("span",{class:"label"},"创建人:",-1)),c("span",Z,v(fa.createUserName||"未知"),1)]),c("div",$,[e[9]||(e[9]=c("span",{class:"label"},"更新人:",-1)),c("span",aa,v(fa.updateUserName||"未知"),1)])])])])]),ya.value?(b(),l("div",ea,[p(y,{type:"border-card"},{default:u(()=>[p(i,{label:"中文内容"},{default:u(()=>[c("div",ta,[c("div",{class:"rich-text-content",innerHTML:fa.content},null,8,sa)])]),_:1}),ba.value?(b(),d(i,{key:0,label:"英文内容"},{default:u(()=>[fa.contentEn?(b(),l("div",na,[c("div",{class:"rich-text-content",innerHTML:fa.contentEn},null,8,ia)])):(b(),d(t,{key:1,description:"暂无英文内容"}))]),_:1})):o("",!0)]),_:1})])):(b(),l("div",la,[p(T,{title:"此通知为链接类型，点击下方链接访问详细内容",type:"info",closable:!1,showIcon:""}),c("div",ca,[c("a",{href:fa.linkUrl||fa.content,target:"_blank",rel:"noopener noreferrer"},[f(v(fa.linkUrl||fa.content)+" ",1),p(n,{class:"external-icon"},{default:u(()=>[p(r(k))]),_:1})],8,da)])]))],2)):o("",!0):(b(),d(t,{key:0,description:"未找到通知内容"}))])])}}}),[["__scopeId","data-v-1baf814f"]]);export{oa as default};
