import{y as a,r as e,ay as s,l as t,h as n,z as l,B as i,I as c,L as d,u as o,E as r,R as m,J as u,al as _,P as p,O as b,n as v,A as h}from"./vue-BMnUnhjY.js";import{Y as f,j as y,a9 as k}from"./elementPlus-iRxZk2_b.js";import{s as g}from"./index-BT6KgQx3.js";import{u as T}from"./useLoading-D-rekEU2.js";import{B as E}from"./statusConfig-Cju3zQbK.js";import{_ as U}from"./_plugin-vue_export-helper-BCo6x5W8.js";const I={class:"book-detail-container"},L={class:"book-content-wrapper"},j={class:"book-header"},N={class:"header-banner animate__animated animate__fadeInDown"},x={class:"header-status animate__animated animate__fadeInRight"},w={class:"title animate__animated animate__fadeIn animate__delay-1s"},D={class:"author-info animate__animated animate__fadeIn animate__delay-1s"},H={class:"author"},M={key:0,class:"author-en"},P={class:"meta-card animate__animated animate__fadeInUp animate__delay-1s"},z={class:"meta-section"},O={class:"section-title"},S={class:"meta-content"},B={class:"meta-item"},R={class:"value"},q={class:"meta-item"},A={class:"value"},C={class:"meta-item"},F={class:"value"},J={class:"meta-item"},Y={class:"value"},G={class:"meta-section"},K={class:"section-title"},Q={class:"meta-content"},V={class:"meta-item"},W={class:"value"},X={class:"meta-item"},Z={class:"value"},$={class:"meta-item"},aa={class:"value"},ea={class:"abstract-section animate__animated animate__fadeIn animate__delay-2s"},sa={key:0,class:"abstract-content"},ta={key:0,class:"abstract-content"},na={key:0,class:"book-url-section animate__animated animate__fadeIn animate__delay-3s"},la={class:"link-url animate__animated animate__pulse animate__delay-3s"},ia=["href"],ca={class:"book-body animate__animated animate__fadeIn animate__delay-2s"},da={class:"content-wrapper"},oa=["innerHTML"],ra={class:"content-wrapper"},ma=["innerHTML"],ua=U(a({__name:"bookDetail",setup(a){const{changeLoading:U,closeLoading:ua,loading:_a}=T(),pa=s(),ba=e(pa.query.id),va=t({id:"",title:"",titleEn:"",author:"",authorEn:"",abstract:"",abstractEn:"",content:"",contentEn:"",bookUrl:"",bookPublishDate:"",isTranslated:"0",publishStatus:"",publishTimes:"",publishUserName:"",createdTimes:"",updatedTimes:"",createUserName:"",updateUserName:""}),ha=e(!1);return n(()=>{ba.value&&(U(!0),g.post("/api/book/detail",{id:ba.value}).then(a=>{a&&(Object.assign(va,a),v(()=>{ha.value=!0}))}).finally(()=>{ua()}))}),(a,e)=>{const s=_("el-empty"),t=_("el-tag"),n=_("el-icon"),v=_("el-tab-pane"),g=_("el-tabs");return h(),l("div",I,[i("div",L,[va.id||o(_a)?va.id?(h(),l("div",{key:1,class:r(["book-content",{"animation-ready":ha.value}])},[i("div",j,[i("div",N,[i("div",x,[m(t,{size:"small",type:o(E).getTagType(va.publishStatus),class:"status-tag"},{default:u(()=>[b(p(o(E).getName(va.publishStatus)),1)]),_:1},8,["type"]),"1"===va.isTranslated?(h(),c(t,{key:0,size:"small",type:"success",class:"translated-tag"},{default:u(()=>[...e[0]||(e[0]=[b(" 已译成外文 ",-1)])]),_:1})):d("",!0)]),i("h1",w,p(va.title),1),i("div",D,[e[1]||(e[1]=i("span",{class:"author-label"},"作者：",-1)),i("span",H,p(va.author),1),va.authorEn?(h(),l("span",M,"( "+p(va.authorEn)+" )",1)):d("",!0)])]),i("div",P,[i("div",z,[i("div",O,[m(n,null,{default:u(()=>[m(o(f))]),_:1}),e[2]||(e[2]=i("span",null,"时间信息",-1))]),i("div",S,[i("div",B,[e[3]||(e[3]=i("span",{class:"label"},"著作发布日期",-1)),i("span",R,p(va.bookPublishDate||"--"),1)]),i("div",q,[e[4]||(e[4]=i("span",{class:"label"},"系统发布时间",-1)),i("span",A,p(va.publishTimes||"--"),1)]),i("div",C,[e[5]||(e[5]=i("span",{class:"label"},"创建时间",-1)),i("span",F,p(va.createdTimes),1)]),i("div",J,[e[6]||(e[6]=i("span",{class:"label"},"更新时间",-1)),i("span",Y,p(va.updatedTimes),1)])])]),i("div",G,[i("div",K,[m(n,null,{default:u(()=>[m(o(y))]),_:1}),e[7]||(e[7]=i("span",null,"人员信息",-1))]),i("div",Q,[i("div",V,[e[8]||(e[8]=i("span",{class:"label"},"发布人",-1)),i("span",W,p(va.publishUserName||"--"),1)]),i("div",X,[e[9]||(e[9]=i("span",{class:"label"},"创建人",-1)),i("span",Z,p(va.createUserName||"未知"),1)]),i("div",$,[e[10]||(e[10]=i("span",{class:"label"},"更新人",-1)),i("span",aa,p(va.updateUserName||"未知"),1)])])])])]),i("div",ea,[e[11]||(e[11]=i("h3",{class:"section-heading"},"摘要",-1)),m(g,{type:"border-card"},{default:u(()=>[m(v,{label:"中文摘要"},{default:u(()=>[va.abstract?(h(),l("div",sa,p(va.abstract),1)):(h(),c(s,{key:1,description:"暂无中文摘要"}))]),_:1}),m(v,{label:"英文摘要"},{default:u(()=>[va.abstractEn?(h(),l("div",ta,p(va.abstractEn),1)):(h(),c(s,{key:1,description:"暂无英文摘要"}))]),_:1})]),_:1})]),va.bookUrl?(h(),l("div",na,[e[12]||(e[12]=i("h3",{class:"section-heading"},"著作链接",-1)),i("div",la,[i("a",{href:va.bookUrl,target:"_blank",rel:"noopener noreferrer"},[b(p(va.bookUrl)+" ",1),m(n,{class:"external-icon"},{default:u(()=>[m(o(k))]),_:1})],8,ia)])])):d("",!0),i("div",ca,[e[13]||(e[13]=i("h3",{class:"section-heading"},"正文内容",-1)),m(g,{type:"border-card"},{default:u(()=>[m(v,{label:"中文内容"},{default:u(()=>[i("div",da,[va.content?(h(),l("div",{key:0,class:"rich-text-content",innerHTML:va.content},null,8,oa)):(h(),c(s,{key:1,description:"暂无中文内容"}))])]),_:1}),m(v,{label:"英文内容"},{default:u(()=>[i("div",ra,[va.contentEn?(h(),l("div",{key:0,class:"rich-text-content",innerHTML:va.contentEn},null,8,ma)):(h(),c(s,{key:1,description:"暂无英文内容"}))])]),_:1})]),_:1})])],2)):d("",!0):(h(),c(s,{key:0,description:"未找到著作内容"}))])])}}}),[["__scopeId","data-v-5190f5e4"]]);export{ua as default};
