import{y as e,r as a,ay as t,l,h as n,z as o,B as r,P as s,R as i,J as d,al as u,u as c,Q as m,a6 as p,I as f,aD as g,A as y}from"./vue-BMnUnhjY.js";import{S as v,E as h}from"./elementPlus-iRxZk2_b.js";import{T as _}from"./tinyMceEditor-EOAlt4H2.js";import{a as b,p as T,s as V}from"./index-BT6KgQx3.js";import{u as j}from"./useLoading-D-rekEU2.js";import{a as E}from"./useDictionary-Cg9QFWfd.js";import{_ as q}from"./_plugin-vue_export-helper-BCo6x5W8.js";const I={class:"modify-recruit-info-container"},L={class:"header"},x={class:"left"},k={class:"title"},A={class:"right"},C={class:"form-container"},P=q(e({__name:"modifyRecruitInfo",setup(e){const q=b(T),{changeLoading:P,closeLoading:R,loading:U}=j(),w=t(),D=g(),M=a(w.query.mode||"add"),z=a(w.query.id),{dictList:B,loading:F}=E("recruitment_type",!0),H=a(),J=l({id:"",recruitmentType:"",content:"",contentEn:""}),N={recruitmentType:[{required:!0,message:"请选择招聘类型",trigger:"change"}],content:[{required:!0,message:"请输入中文内容",trigger:"blur"}]},O=()=>{H.value&&H.value.validate((e,a)=>{if(e){P(!0);const e={...J},a="/api/recruit/save";V.post(a,e).then(()=>{h.success("add"===M.value?"新增成功":"更新成功");const e=q.getCurTabPath;e&&q.delCurTab(e,D,"/recruitManage")}).finally(()=>{R()})}})};return n(()=>{"edit"===M.value&&z.value&&z.value&&(P(!0),V.post("/api/recruit/detail",{id:z.value}).then(e=>{const a=e||{};Object.assign(J,{id:a.id,recruitmentType:a.recruitmentType,content:a.content,contentEn:a.contentEn})}).finally(()=>{R()}))}),(e,a)=>{const t=u("el-icon"),l=u("el-button"),n=u("el-tooltip"),g=u("el-option"),h=u("el-select"),b=u("el-form-item"),T=u("el-form");return y(),o("div",I,[r("div",L,[r("div",x,[a[3]||(a[3]=r("div",{class:"blue-bar"},null,-1)),r("span",k,s("add"===M.value?"新增招聘信息":"编辑招聘信息"),1)]),r("div",A,[i(n,{content:"保存",placement:"top",showAfter:200,hideAfter:0},{default:d(()=>[i(l,{loading:c(U),type:"primary",circle:"",class:"icon-button",onClick:O},{default:d(()=>[i(t,null,{default:d(()=>[i(c(v))]),_:1})]),_:1},8,["loading"])]),_:1})])]),r("div",C,[i(T,{ref_key:"formRef",ref:H,model:J,rules:N,labelWidth:"120px",class:"recruit-form"},{default:d(()=>[i(b,{label:"招聘类型",prop:"recruitmentType",required:""},{default:d(()=>[i(h,{modelValue:J.recruitmentType,"onUpdate:modelValue":a[0]||(a[0]=e=>J.recruitmentType=e),placeholder:"请选择招聘类型",style:{width:"100%"},loading:c(F),class:"modern-select"},{default:d(()=>[(y(!0),o(m,null,p(c(B),e=>(y(),f(g,{key:e.dictId,label:e.dictValue,value:e.dictId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),i(b,{prop:"content",required:""},{label:d(()=>[...a[4]||(a[4]=[r("span",{class:"required-label"},"中文内容",-1)])]),default:d(()=>[i(_,{modelValue:J.content,"onUpdate:modelValue":a[1]||(a[1]=e=>J.content=e),height:450,placeholder:"请输入中文内容"},null,8,["modelValue"])]),_:1}),i(b,{prop:"contentEn"},{label:d(()=>[...a[5]||(a[5]=[r("span",{class:"label"},"英文内容",-1)])]),default:d(()=>[i(_,{modelValue:J.contentEn,"onUpdate:modelValue":a[2]||(a[2]=e=>J.contentEn=e),height:450,placeholder:"请输入英文内容（选填）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])}}}),[["__scopeId","data-v-421969a1"]]);export{P as default};
