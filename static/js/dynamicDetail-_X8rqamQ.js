import{y as a,r as s,ay as e,h as l,z as i,B as n,L as t,P as d,R as c,u as o,J as u,E as v,al as r,K as p,S as f,I as m,O as _,A as y}from"./vue-BMnUnhjY.js";import{s as b}from"./index-BT6KgQx3.js";import{D as h}from"./statusConfig-Cju3zQbK.js";import{u as g}from"./useDictionary-Cg9QFWfd.js";import{u as L}from"./useLoading-D-rekEU2.js";import{E as T,aa as j,Y as k,j as D,ab as I,e as z}from"./elementPlus-iRxZk2_b.js";import{_ as x}from"./_plugin-vue_export-helper-BCo6x5W8.js";const H={class:"dynamic-detail-container"},S={class:"dynamic-detail-wrapper"},w={key:0,class:"dynamic-content-wrapper"},E={class:"dynamic-header animate__animated animate__fadeInDown"},M={class:"header-title"},N={class:"title-container"},U={class:"title"},C={class:"title-right"},O={class:"type-tag"},P={key:0,class:"date-tag"},q={class:"info-cards-container animate__animated animate__fadeIn animate__delay-1s"},A={class:"info-card","data-type":"create"},B={class:"info-card-icon"},F={class:"info-card-content"},J={class:"info-card-details"},K={class:"info-detail"},R={class:"info-value"},Y={class:"info-detail"},G={class:"info-value"},Q={key:0,class:"info-card","data-type":"publish"},V={class:"info-card-icon"},W={class:"info-card-content"},X={class:"info-card-details"},Z={class:"info-detail"},$={class:"info-value"},aa={class:"info-detail"},sa={class:"info-value"},ea={class:"info-card","data-type":"update"},la={class:"info-card-icon"},ia={class:"info-card-content"},na={class:"info-card-details"},ta={class:"info-detail"},da={class:"info-value"},ca={class:"info-detail"},oa={class:"info-value"},ua={class:"dynamic-body animate__animated animate__fadeInUp animate__delay"},va={class:"content-tabs"},ra={class:"content-wrapper"},pa={class:"tab-content"},fa=["innerHTML"],ma={class:"tab-content"},_a=["innerHTML"],ya={key:1,class:"no-data animate__animated animate__fadeIn"},ba=x(a({__name:"dynamicDetail",setup(a){const x=e(),{loading:ba,closeLoading:ha,changeLoading:ga}=L(),La=s("zh"),{getDictLabel:Ta}=g({dictType:"dynamic_type",autoLoad:!0}),ja=s(x.query.id),ka=s(null);return l(()=>{ja.value?(ga(!0),b.post("/api/dynamic/detail",{id:ja.value}).then(a=>{ka.value=a}).finally(()=>{ha()})):T.error("缺少动态ID参数")}),(a,s)=>{const e=r("el-tag"),l=r("el-icon"),b=r("el-empty");return y(),i("div",H,[n("div",S,[ka.value?(y(),i("div",w,[n("div",E,[n("div",M,[n("div",N,[n("h1",U,d(ka.value.title),1),s[2]||(s[2]=n("div",{class:"title-line"},null,-1))]),n("div",C,[n("div",O,[n("span",null,d(o(Ta)(ka.value.dynamicType)),1)]),c(e,{size:"small",type:o(h).getTagType(ka.value.publishStatus),class:v(["status-tag",{"animate__animated animate__pulse":"1"===ka.value.publishStatus}])},{default:u(()=>[_(d(o(h).getName(ka.value.publishStatus)),1)]),_:1},8,["type","class"]),ka.value.publishDate?(y(),i("div",P,[n("span",null,d(ka.value.publishDate),1)])):t("",!0)])]),n("div",q,[n("div",A,[n("div",B,[c(l,null,{default:u(()=>[c(o(j))]),_:1})]),n("div",F,[s[5]||(s[5]=n("div",{class:"info-card-title"},"创建信息",-1)),n("div",J,[n("div",K,[c(l,null,{default:u(()=>[c(o(k))]),_:1}),s[3]||(s[3]=n("span",{class:"info-label"},"时间:",-1)),n("span",R,d(ka.value.createdTimes||"--"),1)]),n("div",Y,[c(l,null,{default:u(()=>[c(o(D))]),_:1}),s[4]||(s[4]=n("span",{class:"info-label"},"用户:",-1)),n("span",G,d(ka.value.createUserName||"--"),1)])])])]),"1"===ka.value.publishStatus?(y(),i("div",Q,[n("div",V,[c(l,null,{default:u(()=>[c(o(I))]),_:1})]),n("div",W,[s[8]||(s[8]=n("div",{class:"info-card-title"},"发布信息",-1)),n("div",X,[n("div",Z,[c(l,null,{default:u(()=>[c(o(k))]),_:1}),s[6]||(s[6]=n("span",{class:"info-label"},"时间:",-1)),n("span",$,d(ka.value.publishTimes||"--"),1)]),n("div",aa,[c(l,null,{default:u(()=>[c(o(D))]),_:1}),s[7]||(s[7]=n("span",{class:"info-label"},"用户:",-1)),n("span",sa,d(ka.value.publishUserName||"--"),1)])])])])):t("",!0),n("div",ea,[n("div",la,[c(l,null,{default:u(()=>[c(o(z))]),_:1})]),n("div",ia,[s[11]||(s[11]=n("div",{class:"info-card-title"},"更新信息",-1)),n("div",na,[n("div",ta,[c(l,null,{default:u(()=>[c(o(k))]),_:1}),s[9]||(s[9]=n("span",{class:"info-label"},"时间:",-1)),n("span",da,d(ka.value.updatedTimes||"--"),1)]),n("div",ca,[c(l,null,{default:u(()=>[c(o(D))]),_:1}),s[10]||(s[10]=n("span",{class:"info-label"},"用户:",-1)),n("span",oa,d(ka.value.updateUserName||"--"),1)])])])])])]),s[12]||(s[12]=n("div",{class:"dynamic-divider"},null,-1)),n("div",ua,[n("div",va,[n("div",{class:v(["content-tab-item",{active:"zh"===La.value}]),onClick:s[0]||(s[0]=a=>La.value="zh")}," 中文内容 ",2),n("div",{class:v(["content-tab-item",{active:"en"===La.value}]),onClick:s[1]||(s[1]=a=>La.value="en")}," 英文内容 ",2)]),n("div",ra,[p(n("div",pa,[n("div",{class:"rich-text-content",innerHTML:ka.value.content},null,8,fa)],512),[[f,"zh"===La.value]]),p(n("div",ma,[ka.value.contentEn?(y(),i("div",{key:0,class:"rich-text-content",innerHTML:ka.value.contentEn},null,8,_a)):(y(),m(b,{key:1,description:"暂无英文内容"}))],512),[[f,"en"===La.value]])])])])):o(ba)?t("",!0):(y(),i("div",ya,[c(b,{description:"暂无动态内容"})]))])])}}}),[["__scopeId","data-v-cb52eec4"]]);export{ba as default};
