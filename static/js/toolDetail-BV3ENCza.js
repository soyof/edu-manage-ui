import{y as e,ay as a,c as s,r as t,h as l,z as i,B as d,R as o,P as c,E as n,J as r,u,al as v,L as m,O as p,I as f,Q as h,a6 as b,A as y}from"./vue-BMnUnhjY.js";import{g,ac as _,j as T,u as U,e as N,Y as k,ah as x,T as E,ag as j}from"./elementPlus-iRxZk2_b.js";import{s as w}from"./index-BT6KgQx3.js";import{c as L}from"./statusConfig-Cju3zQbK.js";import{u as S}from"./useDictionary-Cg9QFWfd.js";import{u as z}from"./useLoading-D-rekEU2.js";import{_ as D}from"./_plugin-vue_export-helper-BCo6x5W8.js";const P={class:"tool-detail-container"},C={class:"page-header"},I={class:"page-title"},O={class:"page-actions"},$={class:"status-indicator"},q={class:"status-text"},A={class:"skeleton-container"},B={style:{"margin-top":"24px"}},F={style:{"margin-top":"32px"}},H={class:"detail-content"},J={class:"detail-card"},Q={class:"card-header"},R={class:"header-left"},W={class:"card-body"},Y={class:"info-grid"},G={class:"info-item"},K={class:"info-value highlight"},M={key:0,class:"info-item"},V={class:"info-value"},X={class:"info-item"},Z={class:"info-value"},ee={class:"info-item full-width"},ae={class:"url-container"},se=["href"],te={class:"meta-info-grid"},le={class:"meta-item"},ie={class:"meta-icon"},de={class:"meta-content"},oe={class:"meta-value"},ce={class:"meta-item"},ne={class:"meta-icon"},re={class:"meta-content"},ue={class:"meta-value"},ve={class:"meta-item"},me={class:"meta-icon"},pe={class:"meta-content"},fe={class:"meta-value"},he={class:"meta-item"},be={class:"meta-icon"},ye={class:"meta-content"},ge={class:"meta-value"},_e={class:"meta-item"},Te={class:"meta-icon"},Ue={class:"meta-content"},Ne={class:"meta-value"},ke={class:"meta-item"},xe={class:"meta-icon"},Ee={class:"meta-content"},je={class:"meta-value"},we={class:"detail-card"},Le={class:"card-header"},Se={class:"header-left"},ze={class:"card-body"},De={key:0,class:"description-content"},Pe={key:0,class:"description-content"},Ce=e({__name:"toolDetail",setup(e){const{loading:D,changeLoading:Ce,closeLoading:Ie}=z(),Oe=a().query.id,$e=L("待发布","已发布","已下线"),qe=S({dictType:"opensource_tool_type",autoLoad:!0}),Ae=s(()=>Be.value.title?`【${Be.value.title}】详情`:"工具详情"),Be=t({id:0,title:"",titleEn:"",description:"",descriptionEn:"",toolType:"",toolTypeName:"",toolUrl:"",publishStatus:"",publishTimes:"",publishUserName:"",createUserName:"",createdTimes:"",updateUserName:"",updatedTimes:""});return l(()=>{Oe&&(Ce(!0),w.post("/api/tool/detail",{id:Oe}).then(e=>{if(e&&"object"==typeof e){const a=e;Be.value={id:a.id||0,title:a.title||"",titleEn:a.titleEn||"",description:a.description||"",descriptionEn:a.descriptionEn||"",toolType:a.toolType||"",toolTypeName:qe.getDictLabel(a.toolType||""),toolUrl:a.toolUrl||"",publishStatus:a.publishStatus||"",publishTimes:a.publishTimes||"",publishUserName:a.publishUserName||"",createUserName:a.createUserName||"",createdTimes:a.createdTimes||"",updateUserName:a.updateUserName||"",updatedTimes:a.updatedTimes||""}}}).finally(()=>{Ie()}))}),(e,a)=>{const s=v("el-skeleton-item"),t=v("el-icon"),l=v("el-tag"),w=v("el-button"),L=v("el-divider"),S=v("el-empty"),z=v("el-tab-pane"),Ce=v("el-tabs"),Ie=v("el-skeleton");return y(),i("div",P,[d("div",C,[d("h1",I,c(Ae.value),1),d("div",O,[d("div",$,[d("div",{class:n(["status-dot","status-"+Be.value.publishStatus])},null,2),d("span",q,c((Oe=Be.value.publishStatus,$e.getName(Oe))),1)])])]),o(Ie,{loading:u(D),animated:""},{template:r(()=>[d("div",A,[o(s,{variant:"p",style:{width:"100%",height:"60px"}}),d("div",B,[o(s,{variant:"h3",style:{width:"40%","margin-bottom":"16px"}}),(y(),i(h,null,b(5,e=>o(s,{key:e,variant:"text",style:{width:"100%","margin-bottom":"12px"}})),64))]),d("div",F,[o(s,{variant:"h3",style:{width:"40%","margin-bottom":"16px"}}),(y(),i(h,null,b(5,e=>o(s,{key:e,variant:"text",style:{width:"100%","margin-bottom":"12px"}})),64))])])]),default:r(()=>{return[d("div",H,[d("div",J,[d("div",Q,[d("div",R,[o(t,{class:"header-icon"},{default:r(()=>[o(u(g))]),_:1}),a[1]||(a[1]=d("span",{class:"header-text"},"基本信息",-1))])]),d("div",W,[d("div",Y,[d("div",G,[a[2]||(a[2]=d("div",{class:"info-label"},"工具标题",-1)),d("div",K,c(Be.value.title),1)]),Be.value.titleEn?(y(),i("div",M,[a[3]||(a[3]=d("div",{class:"info-label"},"英文标题",-1)),d("div",V,c(Be.value.titleEn),1)])):m("",!0),d("div",X,[a[4]||(a[4]=d("div",{class:"info-label"},"工具类型",-1)),d("div",Z,[o(l,{size:"small",effect:"plain",class:"type-tag"},{default:r(()=>[p(c(Be.value.toolTypeName),1)]),_:1})])]),d("div",ee,[a[6]||(a[6]=d("div",{class:"info-label"},"工具地址",-1)),d("div",ae,[d("a",{class:"info-link",href:(e=Be.value.toolUrl,e||"#"),target:"_blank",rel:"noopener noreferrer"},c(Be.value.toolUrl),9,se),o(w,{type:"primary",link:"",size:"small",icon:u(_),class:"visit-btn",onClick:a[0]||(a[0]=e=>(e=>{if(!e)return;const a=e.startsWith("http")?e:`https://${e}`;window.open(a,"_blank","noopener,noreferrer")})(Be.value.toolUrl))},{default:r(()=>[...a[5]||(a[5]=[p(" 访问 ",-1)])]),_:1},8,["icon"])])])]),o(L,{contentPosition:"center"},{default:r(()=>[...a[7]||(a[7]=[p("详细信息",-1)])]),_:1}),d("div",te,[d("div",le,[d("div",ie,[o(t,null,{default:r(()=>[o(u(T))]),_:1})]),d("div",de,[a[8]||(a[8]=d("div",{class:"meta-label"},"创建人",-1)),d("div",oe,c(Be.value.createUserName),1)])]),d("div",ce,[d("div",ne,[o(t,null,{default:r(()=>[o(u(U))]),_:1})]),d("div",re,[a[9]||(a[9]=d("div",{class:"meta-label"},"发布人",-1)),d("div",ue,c(Be.value.publishUserName||"未发布"),1)])]),d("div",ve,[d("div",me,[o(t,null,{default:r(()=>[o(u(N))]),_:1})]),d("div",pe,[a[10]||(a[10]=d("div",{class:"meta-label"},"更新人",-1)),d("div",fe,c(Be.value.updateUserName||"无更新"),1)])]),d("div",he,[d("div",be,[o(t,null,{default:r(()=>[o(u(k))]),_:1})]),d("div",ye,[a[11]||(a[11]=d("div",{class:"meta-label"},"创建时间",-1)),d("div",ge,c(Be.value.createdTimes),1)])]),d("div",_e,[d("div",Te,[o(t,null,{default:r(()=>[o(u(x))]),_:1})]),d("div",Ue,[a[12]||(a[12]=d("div",{class:"meta-label"},"发布时间",-1)),d("div",Ne,c(Be.value.publishTimes||"未发布"),1)])]),d("div",ke,[d("div",xe,[o(t,null,{default:r(()=>[o(u(E))]),_:1})]),d("div",Ee,[a[13]||(a[13]=d("div",{class:"meta-label"},"更新时间",-1)),d("div",je,c(Be.value.updatedTimes||"无更新"),1)])])])])]),d("div",we,[d("div",Le,[d("div",Se,[o(t,{class:"header-icon"},{default:r(()=>[o(u(j))]),_:1}),a[14]||(a[14]=d("span",{class:"header-text"},"工具描述",-1))])]),d("div",ze,[o(Ce,{type:"border-card",class:"custom-tabs"},{default:r(()=>[o(z,{label:"中文描述"},{default:r(()=>[Be.value.description?(y(),i("div",De,c(Be.value.description),1)):(y(),f(S,{key:1,description:"暂无中文描述",imageSize:120}))]),_:1}),o(z,{label:"英文描述"},{default:r(()=>[Be.value.descriptionEn?(y(),i("div",Pe,c(Be.value.descriptionEn),1)):(y(),f(S,{key:1,description:"暂无英文描述",imageSize:120}))]),_:1})]),_:1})])])])];var e}),_:1},8,["loading"])]);var Oe}}}),Ie=D(Ce,[["__scopeId","data-v-539cc160"]]);export{Ie as default};
